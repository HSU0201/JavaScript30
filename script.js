var days = [
  {
    no: "Day01",
    title: "JavaScript Drum Kit",
    desc: "創建一個可以透過按鍵發聲的爵士鼓應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/01-JavaScriptDrumKit/hsuJS01.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/01-JavaScriptDrumKit",

    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/01.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/01.gif?raw=true",
  },
  {
    no: "Day02",
    title: "JS and CSS Clock",
    desc: "開發一個實時顯示時間的時鐘應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/02-JSandCSSClock/hsuJS02.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/02-JSandCSSClock",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/02.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/02.gif?raw=true",
  },
  {
    no: "Day03",
    title: "CSS Variables",
    desc: "設計一個可調整圖片邊框、模糊度和黑白效果的濾鏡應用。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/03-CSSVariables/hsuJS03.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/03-CSSVariables",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/03.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/03.gif?raw=true",
  },
  {
    no: "Day04",
    title: "Array Cardio Day 1",
    desc: "展示 filter、map、sort、reduce、includes 和 split 等方法的實際應用。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/04-ArrayCardioDay1/hsuJS04.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/04-ArrayCardioDay1",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/04.png?raw=true",
    gif: "",
  },
  {
    no: "Day05",
    title: "Flex Panel Gallery",
    desc: "開發一個具有動畫展開效果的圖片展示應用。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/05-FlexPanelGallery/hsuJS05.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/05-FlexPanelGallery",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/05.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/05.gif?raw=true",
  },
  {
    no: "Day06",
    title: "Type Ahead",
    desc: "創建一個即時顯示搜尋結果的輸入框應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/06-TypeAhead/hsuJS06.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/06-TypeAhead",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/06.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/06.gif?raw=true",
  },
  {
    no: "Day07",
    title: "Array Cardio Day 2",
    desc: "展示 some、every、find、findIndex 和 slice 方法的應用案例。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/07-ArrayCardioDay2/hsuJS07.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/07-ArrayCardioDay2",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/07.png?raw=true",
    gif: "",
  },
  {
    no: "Day08",
    title: "Fun with HTML5 Canvas",
    desc: "設計一個使用 HTML5 Canvas 的繪圖應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/08-FunwithHTML5Canvas/hsuJS08.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/08-FunwithHTML5Canvas",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/08.png?raw=true",
    gif: "",
  },
  {
    no: "Day09",
    title: "Dev Tools Domination",
    desc: "介紹 Chrome 開發工具中的 DOM 斷點及各種 console 格式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/09-DevToolsDomination/hsuJS09.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/09-DevToolsDomination",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/09.png?raw=true",
    gif: "",
  },
  {
    no: "Day10",
    title: "Hold Shift and Check Checkboxes",
    desc: "開發一個支援 Shift+點擊連續選取的清單應用。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/10-HoldShiftandCheckCheckboxes/hsuJS10.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/10-HoldShiftandCheckCheckboxes",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/10.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/10.gif?raw=true",
  },
  {
    no: "Day11",
    title: "Custom Video Player",
    desc: "使用 HTML5 video 標籤創建一個自訂影片播放器。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/11-CustomVideoPlayer/hsuJS11.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/11-CustomVideoPlayer",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/11.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/11.gif?raw=true",
  },
  {
    no: "Day12",
    title: "Key Sequence Detection",
    desc: "開發一個偵測連續輸入特定內容的應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/12-KeySequenceDetection/hsuJS12.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/12-KeySequenceDetection",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/12.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/12.gif?raw=true",
  },
  {
    no: "Day13",
    title: "Slide in on Scroll",
    desc: "設計一個當畫面滾動到特定位置時顯示圖片的效果。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/13-SlideinonScroll/hsuJS13.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/13-SlideinonScroll",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/13.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/13.gif?raw=true",
  },
  {
    no: "Day14",
    title: "JavaScript References VS Copying",
    desc: "介紹陣列和物件的引用與複製的區別。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/14-JavaScriptReferencesVSCopying/hsuJS14.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/14-JavaScriptReferencesVSCopying",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/14.png?raw=true",
    gif: "",
  },
  {
    no: "Day15",
    title: "LocalStorage",
    desc: "開發一個利用 localStorage 進行菜單增刪操作的應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/15-LocalStorage/hsuJS15.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/15-LocalStorage",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/15.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/15.gif?raw=true",
  },
  {
    no: "Day16",
    title: "Mouse Move Shadow",
    desc: "設計一個根據滑鼠移動改變文字陰影的效果。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/16-MouseMoveShadow/hsuJS16.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/16-MouseMoveShadow",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/16.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/16.gif?raw=true",
  },
  {
    no: "Day17",
    title: "Sort Without Articles",
    desc: "介紹如何在排序時排除特定字詞。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/17-SortWithoutArticles/hsuJS17.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/17-SortWithoutArticles",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/17.png?raw=true",
    gif: "",
  },
  {
    no: "Day18",
    title: "Adding Up Times with Reduce",
    desc: "使用 Array 的 map() 和 reduce() 方法計算播放清單的總時長。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/18-AddingUpTimeswithReduce/hsuJS18.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/18-AddingUpTimeswithReduce",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/18.png?raw=true",
    gif: "",
  },
  {
    no: "Day19",
    title: "Webcam Fun",
    desc: "利用 getUserMedia 和 canvas 來實現影像濾鏡效果。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/19-WebcamFun/hsuJS19.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/19-WebcamFun",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/19.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/19.gif?raw=true",
  },
  {
    no: "Day20",
    title: "Speech Detection",
    desc: "開發一個將語音輸入轉換為文字的工具。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/20-SpeechDetection/hsuJS19.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/20-SpeechDetection",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/20.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/20.gif?raw=true",
  },
  {
    no: "Day21",
    title: "Geolocation",
    desc: "創建一個顯示當前地理位置和速度的應用程式。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/21-Geolocation/hsuJS21.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/21-Geolocation",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/21.png?raw=true",
    gif: "",
  },
  {
    no: "Day22",
    title: "Follow Along Link Highlighter",
    desc: "設計一個會隨滑鼠移動的高亮效果。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/22-FollowAlongLinkHighlighter/hsuJS22.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/22-FollowAlongLinkHighlighter",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/22.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/22.gif?raw=true",
  },
  {
    no: "Day23",
    title: "Speech Synthesis",
    desc: "開發一個將文字轉換為語音的工具。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/23-SpeechSynthesis/hsuJS23.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/23-SpeechSynthesis",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/23.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/23.gif?raw=true",
  },
  {
    no: "Day24",
    title: "Sticky Nav",
    desc: "設計一個根據捲動位置變化樣式的固定導航欄。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/24-StickyNav/hsuJS24.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/24-StickyNav",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/24.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/24.gif?raw=true",
  },
  {
    no: "Day25",
    title: "Event Capture, Propagation, Bubbling and Once",
    desc: "解析 addEventListener 方法中的捕捉、傳遞及單次執行功能。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/25-EventCapture,Propagation,BubblingandOnce/hsuJS25.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/25-EventCapture,Propagation,BubblingandOnce",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/25.png?raw=true",
    gif: "",
  },
  {
    no: "Day26",
    title: "Stripe Follow Along Nav",
    desc: "開發一個隨著滑鼠移動展開的導航選單效果。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/26-StripeFollowAlongNav/hsuJS26.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/26-StripeFollowAlongNav",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/26.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/26.gif?raw=true",
  },
  {
    no: "Day27",
    title: "Click and Drag",
    desc: "創建一個可以拖曳移動的水平捲動應用。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/27-ClickandDrag/hsuJS27.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/27-ClickandDrag",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/27.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/27.gif?raw=true",
  },
  {
    no: "Day28",
    title: "Video Speed Controller",
    desc: "設計一個可調節影片播放速度的控件。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/28-VideoSpeedController/hsuJS28.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/28-VideoSpeedController",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/28.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/28.gif?raw=true",
  },
  {
    no: "Day29",
    title: "Countdown Timer",
    desc: "開發一個自定義時間的倒數計時器。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/29-CountdownTimer/hsuJS29.html",
    github:
      "https://github.com/HSU0201/JavaScript30/tree/main/29-CountdownTimer",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/29.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/29.gif?raw=true",
  },
  {
    no: "Day30",
    title: "Whack A Mole",
    desc: "創建一個打地鼠的小遊戲。",
    blog: "",
    demo: "https://hsu0201.github.io/JavaScript30/30-WhackAMole/hsuJS30.html",
    github: "https://github.com/HSU0201/JavaScript30/tree/main/30-WhackAMole",
    image:
      "https://github.com/HSU0201/JavaScript30/blob/main/img/30.png?raw=true",
    gif: "https://github.com/HSU0201/JavaScript30/blob/main/img/30.gif?raw=true",
  },
];

function createView(e) {
  if (e.target.tagName === "A") return;
  let main = document.querySelector(".main");
  let view = "";
  days.forEach((day) => {
    view += `
      <div class="card" 
        data-title="${day.title}" 
        data-desc="${day.desc}" 
        data-demo="${day.demo}" 
        data-github="${day.github}"  
        data-img="${day.image}" 
        data-gif="${day.gif}"
      >
                <div class="tag">
                  <div class="tag-day">${day.no}</div>
                </div>
                <div class="img-box">
                  <img
                  class="img"
                  src="${day.image}"
                  alt="${day.no}"
                  />
                </div>
                
                <div class="card-content">
                  <h3 class="card-title">${day.title}</h3>
                  <p class="card-text">
                      ${day.desc}
                  </p>
                </div>
                <div class="card-buttons">
                  <a class="card-btn" href="${day.demo}" target="_blank">DEMO</a>
                  <a class="card-btn" href="${day.github}" target="_blank">GitHub</a>
                </div>
      </div>`;
  });
  main.innerHTML = view;
  const cards = Array.from(document.querySelectorAll(".card"));
  cards.forEach((card) => {
    card.addEventListener("mouseenter", changeImageType);
    card.addEventListener("mouseleave", changeImageType);
    card.addEventListener("click", enlargeCard);
  });
}

function changeImageType(e) {
  const card = e.currentTarget;
  const img = card.querySelector(".img");
  const gifSrc = card.dataset.gif;
  const imgSrc = card.dataset.img;
  if (e.type === "mouseenter" && gifSrc) {
    img.src = gifSrc;
  } else if (e.type === "mouseleave") {
    img.src = imgSrc;
  }
}

function enlargeCard(e) {
  if (e.target.closest(".card-buttons")) return;
  const card = e.currentTarget;
  const title = card.dataset.title;
  const desc = card.dataset.desc;
  const demo = card.dataset.demo;
  const github = card.dataset.github;
  const imgSrc = card.dataset.img;
  const gifSrc = card.dataset.gif;
  console.log(imgSrc, gifSrc);
  const main = document.querySelector(".main");
  main.style.gridTemplateColumns = "1fr";
  main.innerHTML = `
    <div class="enlargeCard">
      <a class="return-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
    </svg></a>
      <div class="ec-imgBox">
        <img class="ec-img" src="${gifSrc ? gifSrc : imgSrc}" alt="${title}" />
      </div>
      <div class="content">
        <h3>${title}</h3>
        <p>${desc}</p>
        <div class="ec-buttons">
          <a class="ec-btn" type="button" href="${demo}" target="_blank">DEMO</a>
          <a class="ec-btn" type="button" href="${github}" target="_blank">GitHub</a>
        </div>
      </div>
    </div>
  `;
  document
    .querySelector(".return-btn")
    .addEventListener("click", () => location.reload());
}
document.addEventListener("DOMContentLoaded", createView);
